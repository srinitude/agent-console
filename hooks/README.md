# Git Hooks

This directory contains git hooks that are used to maintain code quality and consistency in the agent-console repository.

## Available Hooks

### commit-msg

This hook automatically removes AI-related attributions from commit messages before they are finalized.

**What it removes:**
- `Co-Authored-By` lines that reference AI tools like:
  - Claude / Anthropic
  - Cursor
  - Warp
  - GitHub Copilot
  - Any mentions of "bot", "AI", or "assistant"
- Lines starting with:
  - "Generated by [AI tool]"
  - "Created with [AI tool]"
  - "Authored by [AI tool]"
  - "Assisted by [AI tool]"
- AI tool attribution patterns

**What it keeps:**
- Regular commit message content
- `Co-Authored-By` lines for human contributors
- All other commit message metadata

## Installation

To install these hooks in your local repository, run:

```bash
./install-hooks.sh
```

This will copy all hooks from the `hooks/` directory to `.git/hooks/` and make them executable.

## Manual Installation

If you prefer to install the hooks manually:

```bash
cp hooks/commit-msg .git/hooks/commit-msg
chmod +x .git/hooks/commit-msg
```

## Testing

You can test the commit-msg hook manually:

```bash
echo "Test commit message

Co-Authored-By: Claude <claude@anthropic.com>" > /tmp/test-msg.txt

bash hooks/commit-msg /tmp/test-msg.txt
cat /tmp/test-msg.txt
# Should show the message without the Co-Authored-By line
```

## Disabling Hooks

If you need to temporarily disable a hook, you can:

1. Remove it from `.git/hooks/`
2. Rename it (e.g., `mv .git/hooks/commit-msg .git/hooks/commit-msg.disabled`)
3. Remove execute permission: `chmod -x .git/hooks/commit-msg`

To bypass the hook for a single commit, use:

```bash
git commit --no-verify -m "Your message"
```
